{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"English Level Test\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, $data.currentQuestion ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"p\", null, _toDisplayString($data.currentQuestion.question), 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.userAnswer = $event),\n    onKeyup: _cache[1] || (_cache[1] = _withKeys((...args) => $options.submitAnswer && $options.submitAnswer(...args), [\"enter\"]))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.userAnswer]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.submitAnswer && $options.submitAnswer(...args))\n  }, \"Submit\")])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"p\", null, _toDisplayString($data.feedback), 1 /* TEXT */)]))]);\n}","map":{"version":3,"names":["_createElementVNode","key","_createElementBlock","_hoisted_1","$data","currentQuestion","_hoisted_2","_toDisplayString","question","_cache","$event","userAnswer","onKeyup","_withKeys","args","$options","submitAnswer","onClick","_hoisted_3","feedback"],"sources":["/home/kurs/english-level-test/src/components/TestComponent.vue"],"sourcesContent":["<template>\n    <div>\n      <h1>English Level Test</h1>\n      <div v-if=\"currentQuestion\">\n        <p>{{ currentQuestion.question }}</p>\n        <input v-model=\"userAnswer\" @keyup.enter=\"submitAnswer\" />\n        <button @click=\"submitAnswer\">Submit</button>\n      </div>\n      <div v-else>\n        <p>{{ feedback }}</p>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    data() {\n      return {\n        currentQuestion: null,\n        userAnswer: '',\n        feedback: '',\n        questionIndex: 0,\n        questions: [],\n        answers: [],\n      };\n    },\n    methods: {\n      async fetchQuestion() {\n        try {\n          const response = await fetch('/api/get-question', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ questionIndex: this.questionIndex, answers: this.answers }),\n          });\n          const data = await response.json();\n          this.currentQuestion = data.question;\n        } catch (error) {\n          console.error('Error fetching question:', error);\n        }\n      },\n      async submitAnswer() {\n        this.answers.push(this.userAnswer);\n        this.userAnswer = '';\n        this.questionIndex++;\n        if (this.questionIndex < 3) {\n          await this.fetchQuestion();\n        } else {\n          await this.getFeedback();\n        }\n      },\n      async getFeedback() {\n        try {\n          const response = await fetch('/api/get-feedback', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ answers: this.answers }),\n          });\n          const data = await response.json();\n          this.feedback = data.feedback;\n          this.currentQuestion = null;\n        } catch (error) {\n          console.error('Error fetching feedback:', error);\n        }\n      },\n    },\n    async created() {\n      await this.fetchQuestion();\n    },\n  };\n  </script>\n  "],"mappings":";gCAEMA,mBAAA,CAA2B,YAAvB,oBAAkB;;EAF5BC,GAAA;AAAA;;EAAAA,GAAA;AAAA;;uBACIC,mBAAA,CAUM,cATJC,UAA2B,EAChBC,KAAA,CAAAC,eAAe,I,cAA1BH,mBAAA,CAIM,OAPZI,UAAA,GAIQN,mBAAA,CAAqC,WAAAO,gBAAA,CAA/BH,KAAA,CAAAC,eAAe,CAACG,QAAQ,kB,gBAC9BR,mBAAA,CAA0D;IALlE,uBAAAS,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAKwBN,KAAA,CAAAO,UAAU,GAAAD,MAAA;IAAGE,OAAK,EAAAH,MAAA,QAAAA,MAAA,MAL1CI,SAAA,KAAAC,IAAA,KAKkDC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;iEAAtCV,KAAA,CAAAO,UAAU,E,GAC1BX,mBAAA,CAA6C;IAApCiB,OAAK,EAAAR,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;KAAE,QAAM,E,oBAEtCZ,mBAAA,CAEM,OAVZgB,UAAA,GASQlB,mBAAA,CAAqB,WAAAO,gBAAA,CAAfH,KAAA,CAAAe,QAAQ,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}